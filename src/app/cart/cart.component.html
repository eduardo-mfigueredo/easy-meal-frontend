<section class="container" *ngIf="cart$ | async as cart">
  <div>
    <p class="text-3xl md:text-6xl text-center">Shopping Cart</p>
  </div>

  <ng-container *ngFor="let item of cart.items">
    <div
      class="flex max-md:flex-col max-md:w-[90vw] justify-between
      items-center max-w-[800px] p-8 my-2 mx-auto shadow-lg">
      <div class="p-2">
        <img class="md:max-w-[175px]" src="{{item.image}}" alt="image">
      </div>
      <div>
        <p class="text-2xl"> {{item.title}} </p>
        <p> {{item.description}} </p>
      </div>
      <div class="flex w-[150px] justify-between items-center">
        <p class="h-[20px] p-1.5"> {{item.price | currency}} </p>
        <button mat-icon-button (click)="onRemoveQuantity(item)">
          <mat-icon>remove</mat-icon>
        </button>
        <span class="bg-white">{{item.quantity}}</span>
        <button mat-icon-button (click)="onAddQuantity(item)">
          <mat-icon>add</mat-icon>
        </button>
        <button class="mt-1.5" (click)="onRemoveItem(item)">
          <mat-icon>delete</mat-icon>
        </button>
      </div>
    </div>
  </ng-container>

  <div *ngIf="cart.items.length" class="max-w-[800px] flex flex-col sm:flex-row justify-between items-center mx-auto mt-8">
    <p class="text-2xl md:text-3xl">Total: {{ total | currency }}</p>
    <button mat-raised-button class="bg-green-700">
      <span class="inline-block py-4 px-8 text-2xl text-white">Checkout</span>
    </button>
  </div>

  <div *ngIf="!cart.items.length"
       class="flex flex-col mt-10 justify-center items-center"
  >
    <h2 class="">Your shopping cart is empty.</h2>
    <img class="max-w-[250px] max-h-[250px] my-16" src="assets/pics/empty-cart.png" alt="empty card">
    <a mat-flat-button class="hover:bg-gray-400 hover:text-white" [routerLink]="['/product-category']">
      <mat-icon>keyboard_backspace</mat-icon>
      <span class="px-4">START SHOPPING</span>
    </a>
  </div>
</section>


